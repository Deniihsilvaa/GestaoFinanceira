<!DOCTYPE html>
<html>
  <head>
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0"
      charset="UTF-8"
    />
    <!-- Google Fonts -->
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,400i,700&display=fallback"
    />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Raleway:ital,wght@0,100..900;1,100..900&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Material+Icons"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined"
      rel="stylesheet"
    />

<!-- jQuery -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>

<!-- jQuery UI (se necessário) -->
<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>

<!-- JSZip (necessário para exportação de arquivos Excel) -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>

<!-- pdfMake (necessário para exportação de arquivos PDF) -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.2.7/pdfmake.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.2.7/vfs_fonts.js"></script>

<!-- DataTables JS -->
<script src="https://cdn.datatables.net/1.13.6/js/jquery.dataTables.min.js"></script>
<!-- <script src="https://cdn.datatables.net/buttons/3.1.2/js/dataTables.buttons.min.js"></script> -->
<!-- <script src="https://cdn.datatables.net/buttons/3.1.2/js/buttons.html5.min.js"></script> -->
<!-- <script src="https://cdn.datatables.net/buttons/3.1.2/js/buttons.print.min.js"></script>
<script src="https://cdn.datatables.net/scroller/2.4.3/js/scroller.dataTables.min.js"></script> -->

    <!-- DataTables JS -->
    <!-- <script src="https://cdn.datatables.net/1.13.6/js/jquery.dataTables.min.js"></script> -->
    <script src="https://cdn.datatables.net/buttons/2.1.0/js/dataTables.buttons.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.1.3/jszip.min.js"></script>
    <script src="https://cdn.datatables.net/buttons/2.1.0/js/buttons.html5.min.js"></script>
    <script src="https://cdn.datatables.net/buttons/2.1.0/js/buttons.print.min.js"></script>
    <script src="https://cdn.datatables.net/scroller/2.4.3/js/scroller.dataTables.min.js"></script>



    <!-- Botões de exportação do DataTables -->
    <script src="https://cdn.datatables.net/buttons/3.1.2/js/buttons.html5.min.js"></script>
    <script src="https://cdn.datatables.net/buttons/3.1.2/js/buttons.print.min.js"></script>

    <!-- Bootstrap CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
      crossorigin="anonymous"
    />

    <!-- Bootstrap Icons CSS -->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css"
    />





    <!-- DataTables CSS -->
    <link
      rel="stylesheet"
      href="https://cdn.datatables.net/1.13.6/css/jquery.dataTables.min.css"
    />
    <link
      rel="stylesheet"
      href="https://cdn.datatables.net/buttons/2.1.0/css/buttons.dataTables.min.css"
    />
    <link
      rel="stylesheet"
      href="https://cdn.datatables.net/scroller/2.4.3/css/scroller.dataTables.min.css"
    />


    <!-- Flags CSS -->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/gh/lafeber/world-flags-sprite/stylesheets/flags32-both.css"
    />

    <style>
      :root {
        /* Paleta de cores */
        --cor-primaria: #fafafa;
        --cor-secundaria: #07637a;
        --cor-terciaria: #ffffff;
        --cor-quaternaria: #e5e5e5;
        --cor-acento: #ff5733;
        --cor-branco: #ffffff;
        --cor-subFundo: linear-gradient(74deg, #ff0066, #bb00ff, #b358c3);
        --cor-Fundo: #e3ac98;
        /* Exemplo de cor de acento */
      }

      body {
        margin: 0;
        padding: 0;
        width: 100%;
        height: 100vh;
        font-family: "Roboto Slab", serif;
        font-size: 0.8rem;
      }
      button {
        border: none;
      }

      .ui-accordion .ui-accordion-content {
        display: grid;
      }

      button.btn.btn-light.btn-acc {
        width: 100%;
        text-align: center;
        border: none;
      }

      /* Classe para mostrar/ocultar o overlay */
      .d-none {
        display: none;
      }

      .accordion-control {
        text-align: left;
        font-size: 1.2rem;
        font-family: "Montserrat";
        background: #000;
        color: white;
        border: none;
        padding: 0.8em 1em;
        cursor: pointer;
      }

      .menu {
        position: relative;
      }

      .menu__item {
        position: relative;
        padding: 0.5em 1em;
      }

      .menu__border {
        position: absolute;
        bottom: 0;
        left: 0;
        height: 4px;
        background-color: #ff5733;
        /* Cor da borda */
        transition: transform 0.3s ease;
      }

      .spinner-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(255, 255, 255, 0.7);
        /* Cor de fundo com transparência */
        display: flex;
        justify-content: center;
        align-items: center;
        z-index: 9999;
        /* Certifique-se de que o overlay esteja acima de outros conteúdos */
      }
      .alert-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(
          0,
          0,
          0,
          0.5
        ); /* Fundo escuro com transparência */
        display: flex;
        justify-content: center;
        align-items: center;
        z-index: 9999;
      }

      .custom-alert {
        background-color: white;
        padding: 20px;
        border-radius: 8px;
        box-shadow: 0px 4px 10px rgba(0, 0, 0, 0.1);
        max-width: 300px;
        text-align: center;
      }
    </style>
  </head>
  <body>
    <div class="SuperBody">
      <nav class="navbar navbar-expand-lg shadow">
        <div class="container-fluid">
          <a class="navbar-brand text-white" href="#">Home</a>
          <button
            class="navbar-toggler"
            type="button"
            data-bs-toggle="collapse"
            data-bs-target="#navbarNavDropdown"
            aria-controls="navbarNavDropdown"
            aria-expanded="false"
            aria-label="Toggle navigation"
          >
            <span class="navbar-toggler-icon"></span>
          </button>
          <div class="collapse navbar-collapse" id="navbarNavDropdown">
            <ul class="navbar-nav">
              <!-- Cadastro Dropdown -->
              <li class="nav-item dropdown">
                <a
                  class="nav-link dropdown-toggle"
                  href="#"
                  role="button"
                  data-bs-toggle="dropdown"
                  aria-expanded="false"
                >
                  Cadastro
                </a>
                <ul class="dropdown-menu">
                  <li>
                    <a
                      class="dropdown-item"
                      href="#"
                      onclick="carregarPagina('clientes')"
                      >Clientes</a
                    >
                  </li>
                  <li>
                    <a
                      class="dropdown-item"
                      href="#"
                      onclick="carregarPagina('fornecedores')"
                      >Fornecedores</a
                    >
                  </li>
                  <li>
                    <a
                      class="dropdown-item"
                      href="#"
                      onclick="carregarPagina('produtos')"
                      >Produtos</a
                    >
                  </li>
                </ul>
              </li>

              <!-- Vendas Dropdown -->
              <li class="nav-item dropdown">
                <a
                  class="nav-link dropdown-toggle"
                  href="#"
                  role="button"
                  data-bs-toggle="dropdown"
                  aria-expanded="false"
                >
                  Vendas
                </a>
                <ul class="dropdown-menu">
                  <li>
                    <a
                      class="dropdown-item"
                      href="#"
                      onclick="carregarPagina('pedidos')"
                      >Pedidos</a
                    >
                  </li>
                  <li>
                    <a
                      class="dropdown-item"
                      href="#"
                      onclick="carregarPagina('orcamentos')"
                      >Orçamentos</a
                    >
                  </li>
                  <li>
                    <a
                      class="dropdown-item"
                      href="#"
                      onclick="carregarPagina('faturamento')"
                      >Faturamento</a
                    >
                  </li>
                </ul>
              </li>

              <!-- Suplementos Dropdown -->
              <li class="nav-item dropdown">
                <a
                  class="nav-link dropdown-toggle"
                  href="#"
                  role="button"
                  data-bs-toggle="dropdown"
                  aria-expanded="false"
                >
                  Suplementos
                </a>
                <ul class="dropdown-menu">
                  <li>
                    <a
                      class="dropdown-item"
                      href="#"
                      onclick="carregarPagina('gestao_estoque')"
                      >Gestão de Estoque</a
                    >
                  </li>
                  <li>
                    <a
                      class="dropdown-item"
                      href="#"
                      onclick="carregarPagina('compras')"
                      >Compras</a
                    >
                  </li>
                </ul>
              </li>

              <!-- Financeiro Dropdown -->
              <li class="nav-item dropdown">
                <a
                  class="nav-link dropdown-toggle"
                  href="#"
                  role="button"
                  data-bs-toggle="dropdown"
                  aria-expanded="false"
                >
                  Financeiro
                </a>
                <ul class="dropdown-menu">
                  <li>
                    <a
                      class="dropdown-item"
                      href="#"
                      onclick="carregarPagina('contas_a_pagar')"
                      >Contas a Pagar</a
                    >
                  </li>
                  <li>
                    <a
                      class="dropdown-item"
                      href="#"
                      onclick="carregarPagina('contas_a_receber')"
                      >Contas a Receber</a
                    >
                  </li>
                  <li>
                    <a
                      class="dropdown-item"
                      href="#"
                      onclick="carregarPagina('caixa_bancos')"
                      >Caixa e Bancos</a
                    >
                  </li>
                </ul>
              </li>

              <!-- NFe Dropdown -->
              <li class="nav-item dropdown">
                <a
                  class="nav-link dropdown-toggle"
                  href="#"
                  role="button"
                  data-bs-toggle="dropdown"
                  aria-expanded="false"
                >
                  NFe
                </a>
                <ul class="dropdown-menu">
                  <li>
                    <a
                      class="dropdown-item"
                      href="#"
                      onclick="carregarPagina('notas_entrada')"
                      >Notas de Entrada</a
                    >
                  </li>
                  <li>
                    <a
                      class="dropdown-item"
                      href="#"
                      onclick="carregarPagina('request_Nfe')"
                      >Registro de Requests</a
                    >
                  </li>


                  
                  <li>
                    <a
                      class="dropdown-item"
                      href="#"
                      onclick="carregarPagina('notas_saida')"
                      >Notas de Saída</a
                    >
                  </li>
                  <li>
                    <a
                      class="dropdown-item"
                      href="#"
                      onclick="carregarPagina('documentos_nfe')"
                      >Documentos NFe</a
                    >
                  </li>
                </ul>
              </li>
            </ul>
          </div>
        </div>
      </nav>
      <!-- Breadcrumb (abaixo da navbar) -->
      <nav style="--bs-breadcrumb-divider: '>'" aria-label="breadcrumb">
        <ol class="breadcrumb" id="breadcrumbNav">
          <li class="breadcrumb-item">
            <a href="#" onclick="carregarPagina('home')">Home</a>
          </li>
          <li
            class="breadcrumb-item active"
            aria-current="page"
            id="breadcrumbPage"
          ></li>
        </ol>
      </nav>
      <template id="notas_entrada">
        <div class="card">
          <div class="card-header">
            <div class="row justify-content-between">
              <div class="col-lg-6">
                <h1>Cadastro de notas de entrada</h1>
              </div>
              <div class="col-lg-3">
                <button
                  type="button"
                  class="btn btn-primary"
                  data-bs-toggle="modal"
                  data-bs-target="#modalCadastroNotaEntrada"
                  onclick="cadastroInputnotas_entrada()"
                >
                  <i class="bi bi-pencil-fill"></i>
                  <span>Cadastrar</span>
                </button>
              </div>
              <div class="col-sm-1">
                <button
                  class="btn btn-primary"
                  type="button"
                  data-bs-toggle="offcanvas"
                  data-bs-target="#offcanvasRight"
                  aria-controls="offcanvasRight"
                >
                  <span class="material-symbols-outlined">
                    keyboard_double_arrow_right
                  </span>
                </button>
              </div>
            </div>

            <div class="row">
              <div class="table-responsive">
                <table id="nfeTable" class="table table-hover"></table>
              </div>
            </div>
          </div>

          <div
            class="offcanvas offcanvas-end"
            tabindex="-1"
            id="offcanvasRight"
            aria-labelledby="offcanvasRightLabel"
          >
            <div class="offcanvas-header">
              <h5 class="offcanvas-title" id="offcanvasRightLabel">
                Filtro Avançado
              </h5>
              <button
                type="button"
                class="btn-close"
                data-bs-dismiss="offcanvas"
                aria-label="Close"
              ></button>
            </div>
            <div class="offcanvas-body">
              <div id="conteudoOffCanvas"></div>
            </div>
          </div>
          <!-- Modal HTML -->
          <div
            class="modal fade"
            id="modalCadastroNotaEntrada"
            tabindex="-1"
            aria-labelledby="exampleModalLabel"
            aria-hidden="true"
          >
            <div class="modal-dialog modal-lg">
              <div class="modal-content">
                <div class="modal-header">
                  <h5 class="modal-title" id="exampleModalLabel">
                    Cadastro de Nota de Entrada
                  </h5>

                  <button
                    type="button"
                    class="btn-close"
                    data-bs-dismiss="modal"
                    aria-label="Close"
                  ></button>
                </div>
                <div class="modal-body" id="modalBodyContent">
                  <!-- Formulário será injetado aqui -->
                </div>
                <div class="modal-footer">
                  <button
                    type="button"
                    class="btn btn-secondary"
                    data-bs-dismiss="modal"
                  >
                    Fechar
                  </button>
                  <button
                    type="button"
                    class="btn btn-primary"
                    onclick="salvarNFE()"
                    data-bs-dismiss="modal"
                  >
                    Salvar
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </template>
      <template id="request_Nfe">
        <div class="card">
          <div class="card-header">
            <div class="row justify-content-between">
              <div class="col-lg-6">
                <h1>Cadastro de Requests</h1>
              </div>
              <div class="col-lg-3">
                <button
                  type="button"
                  class="btn btn-primary"
                  data-bs-toggle="modal"
                  data-bs-target="#modalCadastroRequests"
                  onclick="abrirModalCadastroRequest()"
                >
                  <i class="bi bi-pencil-fill"></i>
                  <span>Cadastrar</span>
                </button>
              </div>
              <div class="col-sm-1">
                <button
                  class="btn btn-primary"
                  type="button"
                  data-bs-toggle="offcanvas"
                  data-bs-target="#offcanvasRequestRight"
                  aria-controls="offcanvasRequestRight"
                >
                  <span class="material-symbols-outlined">
                    keyboard_double_arrow_right
                  </span>
                </button>
              </div>
            </div>
      
            <div class="row">
              <!-- Elemento onde o total será mostrado -->
<div>
  <strong id="totalVisivel">Total : 0.00</strong>
</div>

              <div class="table-responsive">
                <table id="requestTable" class="table table-hover">
                  <thead>
                    <tr>
                      <th>ID</th>
                      <th>NºREQUEST</th>
                      <th>Data NFe</th>
                      <th>Material</th>
                      <th>Valor</th>
                      <th>Quantidade</th>
                      <th>Total</th>
                      <th>Status</th>
                      <th>Número NFe</th>
                      <th>Data Emissão</th>
                    </tr>
                  </thead>
                  <tbody>
                    <!-- Dados serão injetados aqui -->
                  </tbody>
                </table>
              </div>
            </div>
            <!-- Modal para Detalhes do Request -->
<div class="modal fade" id="modalDetalhesRequest" tabindex="-1" aria-labelledby="modalDetalhesLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="modalDetalhesLabel">Detalhes do Request</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <p><strong>ID:</strong> <span id="modalRequestId"></span></p>
        <p><strong>Número do Request:</strong> <span id="modalRequestNumber"></span></p>
        <p><strong>Data NFe:</strong> <span id="modalDataNFe"></span></p>
        <p><strong>Material:</strong> <span id="modalMaterial"></span></p>
        <p><strong>Valor:</strong> <span id="modalValor"></span></p>
        <p><strong>Quantidade:</strong> <span id="modalQuantidade"></span></p>
        <p><strong>Total:</strong> <span id="modalTotal"></span></p>
        <p><strong>Status:</strong> <span id="modalStatus"></span></p>
        <p><strong>Número NFe:</strong> <span id="modalNumeroNFe"></span></p>
        <p><strong>Data de Emissão:</strong> <span id="modalDataEmissao"></span></p>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Fechar</button>
      </div>
    </div>
  </div>
</div>

          </div>
      
          <!-- Offcanvas lateral -->
          <div
            class="offcanvas offcanvas-end"
            tabindex="-1"
            id="offcanvasRequestRight"
            aria-labelledby="offcanvasRightLabel"
          >
            <div class="offcanvas-header">
              <h5 class="offcanvas-title" id="offcanvasRequestRightLabel">
                Página avançada
              </h5>
              <button
                type="button"
                class="btn-close"
                data-bs-dismiss="offcanvas"
                aria-label="Close"
              ></button>
            </div>
            <div class="offcanvas-body">
              <div id="conteudoOffCanvasRequest"></div>
            </div>
          </div>
        </div>
          <!-- Modal de cadastro -->
          <div
            class="modal fade"
            id="modalCadastroRequests"
            tabindex="-1"
            aria-labelledby="requestModalLabel"
            aria-hidden="true"
          >
            <div class="modal-dialog modal-lg">
              <div class="modal-content">
                <div class="modal-header">
                  <h5 class="modal-title" id="requestModalLabel">
                    Cadastro de Request
                  </h5>
                  <button
                    type="button"
                    class="btn-close"
                    data-bs-dismiss="modal"
                    aria-label="Close"
                  ></button>
                </div>
                <div class="modal-body" id="modalRequestBodyContent">
                  <!-- Formulário será injetado aqui -->
                </div>
                <div class="modal-footer">
                  <button
                    type="button"
                    class="btn btn-secondary"
                    data-bs-dismiss="modal"
                  >
                    Fechar
                  </button>
                  <button
                    type="button"
                    class="btn btn-primary"
                    onclick="salvarNFE()"
                    data-bs-dismiss="modal"
                  >
                    Salvar
                  </button>
                </div>
              </div>
            </div>
          </div>
       
      </template>
      
      <template id="menuinit">
        <div class="card">
          <h1>Menu inicial</h1>
          <h1>Menu inicial</h1>
          <h1>Menu inicial</h1>
          <h1>Menu inicial</h1>
          <h1>Menu inicial</h1>
        </div>
      </template>

      <!-- Conteúdo Principal -->
      <div class="container mt-4">
        <div class="card">
          <div id="conteudo"></div>
        </div>
      </div>
    </div>
    <!-- Spinner Overlay -->
    <div id="spinner-overlay" class="spinner-overlay d-none">
      <div class="d-flex justify-content-center align-items-center h-100">
        <div class="spinner-border" role="status">
          <span class="visually-hidden">Loading...</span>
        </div>
      </div>
    </div>
    <!-- Alerta -->
    <div id="liveAlertPlaceholder"></div>

    <!-- Bootstrap JS -->
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
      crossorigin="anonymous"
    ></script>

    <script id="MetodoPost">
      let urlAjax =
        "https://script.google.com/macros/s/AKfycbwPUs1MEFOrBxtaeGKY7n6kT_yOzSYX4FH2BZbqJBrNgmGYDmxNeRKGwUy_jsbJtzwHpg/exec";

      $("#accordion").accordion({
        active: false,
        collapsible: true,
        heightStyle: "content",
        icons: {
          header: "ui-icon-circle-plus", // Ícone para cabeçalhos fechados
          activeHeader: "ui-icon-circle-minus", // Ícone para cabeçalhos abertos
        },
      });

      // Função para chamar o template
      const inserirTemplate = (templateId, destino) => {
        try {
          const formularioID = document.getElementById(templateId);
          const paginanova = document.getElementById(destino);
          paginanova.innerHTML = "";
          const clone = document.importNode(formularioID.content, true);
          paginanova.appendChild(clone);
          return formularioID;
        } catch (error) {
          return null;
        }
      };

      function carregarmodal(pagina, modal) {
        mostrarSpinner();

        const formularioModal = inserirTemplate(pagina, modal);

        esconderSpinner();
      }
      function carregarPagina(pagina) {
        mostrarSpinner();
        atualizarBreadcrumb(pagina);

        const formularioID = inserirTemplate(pagina, "conteudo");

        // if (!formularioID) return;
        esconderSpinner();
        switch (pagina) {
          case "clientes":
            cadastroCliente();
            break;
          case "fornecedores":
            cadastrofornecedores();
            break;
          case "produtos":
            cadastroprodutos();
            break;
          case "notas_entrada":
            carregarTabelaNotas_entrada();
            break;
          case "notas_saida":
            // cadastronotas_saida();
            break;
          case "documentos_nfe":
            cadastrodocumentos_nfe();
            break;
          case "home":
            home();
            break;
            case "request_Nfe":
              request_Nfe();
            break;



            
          default:
            document.getElementById(
              "conteudo"
            ).innerHTML = `<h1>Conteúdo ${pagina} não encontrado</h1>`;
            break;
        }
      }

      function atualizarBreadcrumb(pagina) {
        const breadcrumbPage = document.getElementById("breadcrumbPage");
        breadcrumbPage.textContent =
          pagina.charAt(0).toUpperCase() + pagina.slice(1);
      }

      function esconderNavbarDropdown() {
        const navbarNavDropdown = bootstrap.Collapse.getInstance(
          document.getElementById("navbarNavDropdown")
        );
        if (navbarNavDropdown) {
          navbarNavDropdown.hide();
        }
      }
    </script>

    <script id="function aux">
      // Função para mostrar o spinner
      function mostrarSpinner() {
        document.getElementById("spinner-overlay").classList.remove("d-none");
      }

      // Função para esconder o spinner
      function esconderSpinner() {
        document.getElementById("spinner-overlay").classList.add("d-none");
      }

      function executarAcaoComData(data, inputId) {
        // Obter o dia da semana atual
        const diasDaSemana = [
          "Domingo",
          "Segunda-feira",
          "Terça-feira",
          "Quarta-feira",
          "Quinta-feira",
          "Sexta-feira",
          "Sábado",
        ];

        // Fazer a requisição AJAX para obter os dados
        $.ajax({
          type: "POST",
          url: urlAjax,
          data: {
            qualFuncao: "carregarScalaDias",
          },
          success: function (response) {
            if (response.situacao) {
              // Parsear dados JSON se necessário
              const dados = response.dados; // Supondo que response.dados é o JSON
              // processarDadosSemanal(userData)
              // Definir o valor no input correto
              if (
                [
                  "Segunda-feira",
                  "Terça-feira",
                  "Quarta-feira",
                  "Quinta-feira",
                  "Sexta-feira",
                ].includes(diaAtual)
              ) {
                document.getElementById(inputId).value = valorHora;
              } else if (["Sábado", "Domingo"].includes(diaAtual)) {
                document.getElementById(inputId).value = valorHora;
              }
            } else {
              alert("Erro de retorno");
            }
          },
          error: function (error) {
            console.error("Erro Escala ==>", error);
          },
        });
      }

      function executarDropdown() {
        const tabElms = document.querySelectorAll('a[data-bs-toggle="list"]');
        tabElms.forEach((tabElm) => {
          tabElm.addEventListener("shown.bs.tab", (event) => {
            event.target; // newly activated tab
            event.relatedTarget; // previous active tab
          });
        });
      }
      function mostrarAlerta(mensagem, tipo) {
        const alertPlaceholder = document.getElementById(
          "liveAlertPlaceholder"
        );

        // Criando o overlay do alerta
        const alertOverlay = document.createElement("div");
        alertOverlay.className = "alert-overlay";

        switch (tipo) {
          case 1:
            var classe = "alert alert-success";
            break;
          case 2:
            var classe = "alert alert-danger";
            break;
          case 3:
            var classe = "alert alert-warning";
            break;
          default:
            var classe = "alert alert-info";
            break;
        }

        // Criando o conteúdo do alerta
        const alertContent = `
    <div class="${classe}">
      <div class="header">
        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close" onclick="fecharAlerta()"> </button>
      </div>
      <div class="alert-text">
        <p>${mensagem}</p>
      </div>
    </div>
  `;

        // Inserindo o conteúdo no overlay
        alertOverlay.innerHTML = alertContent;

        // Inserindo o alerta na página
        alertPlaceholder.appendChild(alertOverlay);
      }

      function fecharAlerta() {
        const alertPlaceholder = document.getElementById(
          "liveAlertPlaceholder"
        );
        alertPlaceholder.innerHTML = ""; // Remove o alerta
      }
      // mostrarAlerta("Login efetuado com sucesso!", 1);
      // // Exemplo de como chamar a função
      // document.getElementById('liveAlertBtn').addEventListener('click', () => {

      // });
      function formatarParaReal(valor) {
        return valor.toLocaleString("pt-BR", {
          style: "currency",
          currency: "BRL",
        });
      }
    </script>

    <script id="FuncaoCadastro">
      function cadastroCliente() {
        document.getElementById("conteudo").innerHTML = `
        <div class="container">
          <div class="row">
            <div class="col-12">
              <h1>Cadastro de Clientes</h1>
            </div>
          </div>
        </div>
        `;
      }
      function cadastrofornecedores() {
        document.getElementById("conteudo").innerHTML = `
        <div class="container">
          <div class="row">
            <div class="col-12">
              <h1>Cadastro de fornecedores</h1>
            </div>
          </div>
        </div>
        `;
      }
      function cadastroprodutos() {
        document.getElementById("conteudo").innerHTML = `
        <div class="container">
          <div class="row">
            <div class="col-12">
              <h1>Cadastro de produtos</h1>
            </div>
          </div>
        </div>
        `;
      }
      function cadastroInputnotas_entrada() {
        mostrarSpinner();
        $.ajax({
          type: "POST",
          url: urlAjax,
          data: { qualFuncao: "inputCadastroNotaEntrada" },
          dataType: "json",
          success: function (response) {
            esconderSpinner();
            let formHTML = '<form id="notaEntradaForm"><div class="row">'; // Começo do formulário

            if (Array.isArray(response)) {
              response.forEach((field) => {
                const inputId = field.type;

                if (inputId == "textarea") {
                  formHTML += `
                                  <div class="col-6">
                                    <div class="mb-3">
                                      <label for="${
                                        field.id
                                      }" class="form-label">${
                    field.label
                  }</label>
                                      <textarea
                                        class="form-control cadastroNFE"
                                        id="${field.id}"
                                        placeholder="${field.placeholder}"
                                        ${
                                          field.required ? "required" : ""
                                        }></textarea>
                                    </div>
                                  </div>`;
                } else {
                  formHTML += `
                                  <div class="col-6">
                                    <div class="mb-3">
                                      <label for="${
                                        field.id
                                      }" class="form-label">${
                    field.label
                  }</label>
                                      <input
                                        type="${field.type}"
                                        class="form-control cadastroNFE"
                                        id="${field.id}"
                                        placeholder="${field.placeholder}"
                                        ${field.required ? "required" : ""}>
                                    </div>
                                  </div>`;
                }
              });

              formHTML += `</form> </div>`; // Fechamento do formulário

              // Insere o formulário dentro do corpo do modal
              document.getElementById("modalBodyContent").innerHTML = formHTML;
            } else {
              console.error(
                "A resposta não contém um array de campos",
                response
              );
            }
          },
          error: function (error) {
            esconderSpinner();
            mostrarAlerta(`Erro na requisição: ${error}`, 2);
            // Forneça feedback ao usuário aqui
          },
        });
      }

      function carregarTabelaNotas_entrada() {
        mostrarSpinner();
        $.ajax({
          type: "POST",
          url: urlAjax,
          data: { qualFuncao: "carregarBaseNfe" },
          dataType: "json",
          success: function (response) {
            esconderSpinner();
            if (Array.isArray(response)) {
              renderTableNotas(response);
            } else {
              console.error(
                "A resposta não contém um array de campos",
                response
              );
            }
          },
          error: function (error) {
            console.error("Erro na requisição Ajax ==>", error);
            // Forneça feedback ao usuário aqui
          },
        });
      }

      function carregarAjax(qualFuncao) {
        mostrarSpinner();
        return new Promise((resolve, reject) => {
          $.ajax({
            type: "POST",
            url: urlAjax,
            data: { qualFuncao: qualFuncao },
            dataType: "json",
            success: function (response) {
              // Verificar se a resposta é um array
              if (Array.isArray(response)) {
                resolve(response); // Retornar o array de dados
              } else {
                console.error(
                  "A resposta não contém um array de campos",
                  response
                );
                reject(new Error("A resposta não contém um array"));
              }
            },
            error: function (error) {
              console.error("Erro na requisição Ajax ==>", error);
              reject(error); // Rejeitar a promise em caso de erro
            },
            complete: function () {
              // Ocultar o spinner quando a requisição estiver completa
              esconderSpinner();
            },
          });
        });
      }

      function renderTableNotas(data) {
        let formHTML = `
          <thead>
                  <tr>
                      <th scope="col"></th>
                      <th scope="col">ID</th>
                      <th scope="col">Número NFe</th>
                      <th scope="col">Número Request</th>
                      <th scope="col">Data Emissão</th>
                      <th scope="col">Produto</th>
                      <th scope="col">Quantidade</th>
                      <th scope="col">Valor Total</th>
                      <th scope="col">Visualizar</th>
                      <th scope="col">Ações</th>
                  </tr>
          </thead>
                          `;
        formHTML += `
                          <tbody>
                              ${data
                                .map(
                                  (element, index) => `
                              <tr>
                                  <td ><input class="form-check-input" id="${
                                    element.id
                                  }" type="checkbox"></td>
                                  <td>${element.id}</td>
                                  <td>${element.numeroNFe}</td>
                                  <td>${element.numeroRequest}</td>
                                  <td>${element.dataEmissao}</td>
                                  <td>${element.produto}</td>
                                  <td>${element.quantidade}</td>
                                  <td>${formatarParaReal(
                                    element.valorTotal
                                  )}</td>
                                  <td><button class="btn"><span class="material-symbols-outlined">
                                    mystery
                                    </span></button></td>
                                  <td>
                                      <button class="btn btn-primary">Editar</button>
                                      <button class="btn btn-danger">Excluir</button>
                                  </td>
                              </tr>`
                                )
                                .join("")}
                        `;
        formHTML += `
                          </tbody>`;

        document.getElementById("nfeTable").innerHTML = formHTML;

        // Inicializa o DataTables com botões de exportação
        $("#nfeTable").DataTable({
          destroy: true, // Destruir a tabela existente
          buttons: ["copy", "csv", "excel", "pdf", "print"],
          paging: true, // Desabilita a paginação
          pageLength: 10, // Define o número de registros por página
          lengthMenu: [
            [10, 25, 50, -1],
            [10, 25, 50, "Todos"],
          ], // Opções de exibição de registros por página
          searching: true, // Habilita a busca
          scrollCollapse: true, // Desabilita o scroll
          fixedHeader: true, // Fixa o cabecalho
          responsive: true, // Habilita o responsivo
          autofill: true, // habilita o autofill
          RegExpr: true,// Habilita o RegExpr
          smart: false, // Desabilita o smart
          select: true, // Habilita a seleção
          info: false, // Desabilita a informação

          processing: true,
          language: {
            url: "https://cdn.datatables.net/plug-ins/1.10.25/i18n/Portuguese-Brasil.json",
          },
          orderCellsTop: true, // Move a coluna de ordem para o topo
          columnDefs: [
            { targets: [1, 5], visible: false }, // Oculta a primeira coluna
            { targets: [3], orderable: false },
          ],
          order: [[1, "desc"]], // Define a coluna e o tipo de ordenação
          ordering: true, // Habilita a ordenação
          dom: "Blfrtip", // Define os botoes de exportação
          buttons: [
            {
              extend: "collection",
              text: "Exportar",
              autoClose: true,
              collectionLayout: "dropdown",
              className: "custom-html-collection",
              buttons: [
                "copy",
                "csv",
                "excel",
                "print", // Botões de exportação
                {
                  extend: "pdfHtml5",
                  exportOptions: {
                    columns: [2, 3, 4, 5],
                    modifier: {
                      search: "applied",
                      order: "applied",
                    }, // Define as colunas que serão exportadas
                  },
                  fillename: "Notas de entrada",
                  header: true,
                  title: "Notas de entrada",
                  text: "PDF",
                },
              ],
            },
          ],
        });
        // enserir ouvinte do evento de clique na tabela e exibir o modal com o formulário e passar os dados correspondentes
        // Ao clicar em uma linha da tabela
      }
      // TODO: Implementar a busca de dados da Nota de Entrada
      function buscardadosNotaEntradaFiltro(id) {
        $.ajax({
          type: "POST",
          url: urlAjax, // Coloque aqui a URL correta do seu backend
          data: {
            qualFuncao: "buscarNotaEntradaPorId",
            idNotaEntrada: id,
          }, // Passa o ID para o backend
          dataType: "json",
          success: function (response) {},
          error: function (error) {
            console.error("Erro ao buscar dados da Nota de Entrada:", error);
          },
        });
      }
      function buscardadosNotaEntrada(data) {
        $.ajax({
          url: urlAjax,
          method: "POST",
          data: {
            qualFuncao: "carregardadosNotaEntradaf",
            dados: data,
          },
          success: function (response) {
            mostrarAlerta("Nota fiscal Carregada com sucesso!", 1);
          },
          error: function (error) {
            mostrarAlerta("Erro ao Carregar nota fiscal.", 2);
          },
        });
      }
      function cadastroOffCanvas() {
        document.getElementById("conteudoOffCanvas").innerHTML = `
            <div class="offcanvas offcanvas-end" tabindex="-1" id="offcanvasRight" aria-labelledby="offcanvasRightLabel">
                <div class="offcanvas-header">
                    <h5 class="offcanvas-title" id="offcanvasRightLabel">Filtro Avançados</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
                </div>
                <div class="offcanvas-body">
                    <div id="conteudoOffCanvas"></div>
                </div>
            </div>
            `;
      }
      function converteNumeroParaReal(numero) {
        return new Intl.NumberFormat("pt-BR", {
          style: "currency",
          currency: "BRL",
        }).format(numero);
      }
      function convertequantida(numero) {
        let numeroArredondado = numero.toFixed(2); // "1.21" como uma string
        return (numeroArredondado = parseFloat(numeroArredondado)); // 1.21 como um número
      }
      function salvarNFE() {
        mostrarSpinner();
        const inputs = document.querySelectorAll(".cadastroNFE");
        let data = {};
        inputs.forEach((input) => {
          data[input.id] = input.value;
        });

        // console.log("Dados a serem enviados:", data); // Verificar se todos os dados estão sendo capturados

        $.ajax({
          url: urlAjax,
          method: "POST",
          data: {
            qualFuncao: "salvarNotaEntrada",
            dados: JSON.stringify(data),
          },
          dataType: "json",          
          success: function (response) {
            console.log("response", response);
            if (response.situacao) {
              carregarTabelaNotas_entrada();
              mostrarAlerta(response.mensagem, 1);
              esconderSpinner();
            } else {
              esconderSpinner();
              mostrarAlerta(response.mensagem, 2);
            }
          },
          error: function (error) {
            esconderSpinner();
            console.error("Erro ao salvar os dados:", error);
            mostrarAlerta("Erro ao cadastrar nota fiscal.", 2);
          },
        });
      }

      </script>

<script id="RegistroRequests">

function request_Nfe() {
        mostrarSpinner();
        $.ajax({
          type: "POST",
          url: urlAjax,
          data: { qualFuncao: "pegarDadosBaseRequest" },
          dataType: "json",
          success: function (response) {
            // console.log("response", response);
            esconderSpinner();
            if (Array.isArray(response)) {
              carregarDadosTabela(response);
            } else {
              console.error(
                "A resposta não contém um array de campos",
                response
              );
            }
          },
          error: function (error) {
            console.error("Erro na requisição Ajax ==>", error);
            // Forneça feedback ao usuário aqui
          },
        });
      }

  // Função para abrir o modal de cadastro
  function abrirModalCadastroRequest() {
  const modalContent = document.getElementById('modalRequestBodyContent');

  // Gerar o formulário HTML dentro do modal
  modalContent.innerHTML = `
    <form id="formCadastroRequest">
      <div class="row">
        <div class="col-md-6">
          <div class="mb-3">
            <label for="numeroRequest" class="form-label">Número do Request</label>
            <input type="text" class="form-control" id="numeroRequest" name="numeroRequest">
          </div>
        </div>
        <div class="col-md-6">
          <div class="mb-3">
            <label for="dataNFe" class="form-label">Data NFe</label>
            <input type="date" class="form-control" id="dataNFe" name="dataNFe">
          </div>
        </div>
      </div>
      
      <div class="row">
        <div class="col-md-6">
          <div class="mb-3">
            <label for="material" class="form-label">Material</label>
            <select class="form-select" id="material" name="material">
              <option selected>Escolha...</option>
            </select>
          </div>
        </div>
        <div class="col-md-6">
          <div class="mb-3">
            <label for="valor" class="form-label">Valor</label>
            <input type="number" class="form-control" id="valor" name="valor">
          </div>
        </div>
      </div>
      
      <div class="row">
        <div class="col-md-6">
          <div class="mb-3">
            <label for="quantidade" class="form-label">Quantidade</label>
            <input type="number" class="form-control" id="quantidade" name="quantidade">
          </div>
        </div>
        <div class="col-md-6">
          <div class="mb-3">
            <label for="total" class="form-label">Total</label>
            <input type="number" class="form-control" id="total" name="total">
          </div>
        </div>
      </div>
      
      <div class="row">
        <div class="col-md-6">
          <div class="mb-3">
            <label for="status" class="form-label">Status</label>
            <input type="text" class="form-control" id="status" name="status">
          </div>
        </div>
        <div class="col-md-6">
          <div class="mb-3">
            <label for="numeroNFe" class="form-label">Número da NFe</label>
            <input type="text" class="form-control" id="numeroNFe" name="numeroNFe">
          </div>
        </div>
      </div>
      
      <div class="row">
        <div class="col-md-6">
          <div class="mb-3">
            <label for="dataEmissao" class="form-label">Data de Emissão</label>
            <input type="date" class="form-control" id="dataEmissao" name="dataEmissao">
          </div>
        </div>
      </div>
    </form>
  `;

  // Chama a função para buscar e preencher os materiais no campo de seleção
  buscarMateriais();
}
// Função para buscar materiais e preencher o select
function buscarMateriais() {
  // Simulação de dados, em uma aplicação real você buscaria de uma API ou planilha
  const materiais = [
    { id: 1, nome: 'Material A' },
    { id: 2, nome: 'Material B' },
    { id: 3, nome: 'Material C' },
  ];

  const materialSelect = document.getElementById('material');

  // Limpa as opções existentes
  materialSelect.innerHTML = '<option selected>Escolha...</option>';

  // Adiciona os materiais ao select
  materiais.forEach((material) => {
    const option = document.createElement('option');
    option.value = material.id;
    option.textContent = material.nome;
    materialSelect.appendChild(option);
  });
}

function situcaoRequest() {
  // Simulação de dados, em uma aplicação real você buscaria de uma API ou planilha
  const materiais = [
    { id: 1, nome: 'Material A' },
    { id: 2, nome: 'Material B' },
    { id: 3, nome: 'Material C' },
  ];

  const materialSelect = document.getElementById('material');

  // Limpa as opções existentes
  materialSelect.innerHTML = '<option selected>Escolha...</option>';

  // Adiciona os materiais ao select
  materiais.forEach((material) => {
    const option = document.createElement('option');
    option.value = material.id;
    option.textContent = material.nome;
    materialSelect.appendChild(option);
  });
}

// Função para carregar os dados na tabela
function carregarDadosTabela(requests) {
  const tableBody = document.querySelector('#requestTable tbody');
  tableBody.innerHTML = ''; // Limpa o conteúdo da tabela

  // Usando fragment para melhorar a performance na inserção dos dados
  const fragment = document.createDocumentFragment();

  requests.forEach((request) => {
    const row = document.createElement('tr');
    row.setAttribute('data-id', request.id);  // Associando o ID à linha

    row.innerHTML = `
      <td>${request.id || ''}</td>
      <td>
        <span class="material-symbols-outlined visibility-icon" 
              style="cursor: pointer;" 
              data-id="${request.id}">
          visibility
        </span> 
        ${request.nREQUEST || ''}
      </td>
      <td>${request.dataNFe || ''}</td>
      <td>${request.material || ''}</td>
      <td>${request.valor || ''}</td>
      <td>${request.quantidade || ''}</td>
      <td>${request.total || ''}</td>
      <td>${request.status || ''}</td>
      <td>${request.numeroNFe || ''}</td>
      <td>${request.dataEmissao || ''}</td>
    `;

    fragment.appendChild(row);  // Adiciona a linha ao fragmento
  });

  tableBody.appendChild(fragment);  // Adiciona o fragmento à tabela

  // Inicializa o DataTables com botões de exportação
  $("#requestTable").DataTable({
    destroy: true, // Destruir a tabela existente
    pageLength: 6, // Exibir 6 registros por página
    lengthMenu: [
      [10, 25, 50, -1],
      [10, 25, 50, "Todos"],
    ], // Opções de exibição de registros por página
    searching: true, // Habilita a busca
    scrollCollapse: true, // Desabilita o scroll
    fixedHeader: true, // Fixa o cabeçalho
    responsive: true, // Habilita a responsividade
    autoFill: true, // Habilita o autoFill
    regex: true, // Habilita regex nas buscas
    smart: false, // Desabilita busca 'smart' para mais precisão
    select: true, // Habilita a seleção de linhas
    info: true, // Mostra a informação sobre a tabela
    processing: true, // Exibe indicador de processamento
    language: {
      url: "https://cdn.datatables.net/plug-ins/1.10.25/i18n/Portuguese-Brasil.json",
    },
    orderCellsTop: true, // Move a coluna de ordem para o topo
    order: [[0, "desc"]], // Define a coluna de ordenação padrão
    ordering: true, // Habilita a ordenação
    orderFixed: [[0, "desc"]], // Define a coluna de ordenação fixa
    orderCellsTop: true, // Move a coluna de ordem para o topo
    columnDefs: [
      { targets: [4, 5, 8, 9], visible: false }, // Oculta algumas colunas
      {
        targets: 6, // Índice da coluna que contém 'request.total'
        render: function(data, type, row) {
          if (type === 'display' || type === 'filter') {
            // Formatar o valor como moeda brasileira
            return new Intl.NumberFormat('pt-BR', { 
              style: 'currency', 
              currency: 'BRL' 
            }).format(data);
          }
          return data;
        }
      }
    ],
    dom: "Blfrtip", // Define os botões de exportação
    buttons: [
      {
        extend: "collection",
        text: "Exportar",
        autoClose: true,
        collectionLayout: "dropdown",
        className: "custom-html-collection",
        buttons: [
          "copy",
          "csv",
          "excel",
          "print", // Botões de exportação
          {
            extend: "pdfHtml5",
            exportOptions: {
              columns: [2, 3, 4, 5], // Colunas que serão exportadas
              modifier: {
                search: "applied",
                order: "applied",
              },
            },
            filename: "Requests",
            title: "Requests",
            text: "PDF",
          },
        ],
      },
    ],
  });

  // Adiciona o ouvinte de clique para os ícones de "visibility"
// Substitua o ouvinte por um baseado no evento 'draw.dt' do DataTables
$('#requestTable').on('draw.dt', function() {
  // Adiciona o ouvinte de clique para os ícones de "visibility"
  document.querySelector('#requestTable').addEventListener('click', function(event) {
    // Verifica se o ícone clicado é o de "visibility"
    if (event.target.classList.contains('visibility-icon')) {
      const requestId = event.target.getAttribute('data-id'); // Pega o ID do request da linha

      // Aqui você pode buscar o request correspondente na lista requests
      const request = requests.find(req => req.id === parseInt(requestId));

      // Preenchendo o conteúdo do modal com os dados da linha selecionada
      document.getElementById('modalRequestId').innerText = request.id || '';
      document.getElementById('modalRequestNumber').innerText = request.nREQUEST || '';
      document.getElementById('modalDataNFe').innerText = request.dataNFe || '';
      document.getElementById('modalMaterial').innerText = request.material || '';
      document.getElementById('modalValor').innerText = request.valor || '';
      document.getElementById('modalQuantidade').innerText = request.quantidade || '';
      document.getElementById('modalTotal').innerText = request.total || '';
      document.getElementById('modalStatus').innerText = request.status || '';
      document.getElementById('modalNumeroNFe').innerText = request.numeroNFe || '';
      document.getElementById('modalDataEmissao').innerText = request.dataEmissao || '';

      // Exibe o modal
      $('#modalDetalhesRequest').modal('show');
    }
  });

  // Atualiza o total visível sempre que a tabela é redesenhada
  calcularTotalVisivel($("#requestTable").DataTable());
});


  calcularTotalVisivel($("#requestTable").DataTable()); // Calcula o total visível
}

function calcularTotalVisivel(dataTable) {
  if (!dataTable || !$.fn.DataTable.Api) {
    console.error("dataTable não é uma instância válida.");
    return;
  }

  // Somar o total de todas as linhas visíveis
  let totalVisivel = dataTable
    .column(6, { page: 'current' }) // Coluna do "request.total" (index 6)
    .data()
    .reduce((acc, valor) => {
      return acc + parseFloat(valor) || 0; // Somar convertendo para float
    }, 0);

  // Formatar o total em moeda brasileira
  let totalFormatado = new Intl.NumberFormat('pt-BR', { 
    style: 'currency', 
    currency: 'BRL' 
  }).format(totalVisivel);
  
  // Exibe o valor total na interface
  document.getElementById('totalVisivel').innerText = `Total Visível: ${totalFormatado}`;
}



// Função para salvar os dados inseridos no formulário do modal
function salvarNFE() {
  const form = document.getElementById('formCadastroRequest');
  const formData = new FormData(form);

  // Simula o envio para o servidor
  const novoRequest = {
    ID: Date.now(), // Exemplo de geração de ID
    NºREQUEST: formData.get('numeroRequest'),
    dataNFe: formData.get('dataNFe'),
    material: formData.get('material'),
    valor: formData.get('valor'),
    quantidade: formData.get('quantidade'),
    total: formData.get('total'),
    status: formData.get('status'),
    numeroNFe: formData.get('numeroNFe'),
    dataEmissao: formData.get('dataEmissao')
  };

  // Simula adicionar o novo request à tabela
  carregarDadosTabela([novoRequest]);
}
function abrirModalDetalhes(id) {
  // Aqui você pode buscar o request pelo ID (caso tenha uma lista/array de requests)
  const request = requests.find(req => req.id === id);

  // Preenchendo o conteúdo do modal com os dados da linha
  document.getElementById('modalRequestId').innerText = request.id || '';
  document.getElementById('modalRequestNumber').innerText = request.nREQUEST || '';
  document.getElementById('modalDataNFe').innerText = request.dataNFe || '';
  document.getElementById('modalMaterial').innerText = request.material || '';
  document.getElementById('modalValor').innerText = request.valor || '';
  document.getElementById('modalQuantidade').innerText = request.quantidade || '';
  document.getElementById('modalTotal').innerText = request.total || '';
  document.getElementById('modalStatus').innerText = request.status || '';
  document.getElementById('modalNumeroNFe').innerText = request.numeroNFe || '';
  document.getElementById('modalDataEmissao').innerText = request.dataEmissao || '';

  // Exibe o modal
  $('#modalDetalhesRequest').modal('show');
}


  // carregarPagina("request_Nfe");
    </script>
  </body>
</html>
